<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>DfE R Shiny Standards • dfeshiny</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" sizes="any" href="favicon.ico">
<link rel="manifest" href="site.webmanifest">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="DfE R Shiny Standards">
<meta name="description" content="R package containing preferred methods for creating official DfE R-Shiny dashboards.">
<meta property="og:description" content="R package containing preferred methods for creating official DfE R-Shiny dashboards.">
<meta property="og:image" content="https://dfe-analytical-services.github.io/dfeshiny/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-dark" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">dfeshiny</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.3.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/implementing-cookies.html">Implementing cookies consent</a></li>
    <li><a class="dropdown-item" href="articles/using-the-dfeshiny-deploy-template.html">Using the dfeshiny Deploy Template</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="dfeshiny-">dfeshiny 
<a class="anchor" aria-label="anchor" href="#dfeshiny-"></a>
</h1>
</div>
<!-- badges: start -->

<p>An R package to support analysts in developing official DfE dashboards and help them meet the necessary standards required of public facing government services.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>dfeshiny is not currently available on CRAN. For the time being you can install the development version from GitHub.</p>
<p>If you are using <a href="https://rstudio.github.io/renv/articles/renv.html" class="external-link">renv</a> in your project (recommended):</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">renv</span><span class="fu">::</span><span class="fu">install</span><span class="op">(</span><span class="st">"dfe-analytical-services/dfeshiny"</span><span class="op">)</span></span></code></pre></div>
<p>Otherwise:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"dfe-analytical-services/dfeshiny"</span><span class="op">)</span></span></code></pre></div>
<p>To update the version when you’re using renv, simply:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">renv</span><span class="fu">::</span><span class="fu">update</span><span class="op">(</span><span class="st">"dfe-analytical-services/dfeshiny"</span><span class="op">)</span></span></code></pre></div>
<p>and then snapshot to update the lockfile</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">renv</span><span class="fu">::</span><span class="fu">snapshot</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="installing-functionality-in-development-from-a-branch">Installing functionality in development from a branch<a class="anchor" aria-label="anchor" href="#installing-functionality-in-development-from-a-branch"></a>
</h2>
<p>It can be useful when developing the package in particular to trial new or updated functionality in a shiny app. To do this, you can install the required branch using (replacing <code>branch-name</code> with the name of the branch you wish to install):</p>
<p><code>renv::install("dfe-analytical-services/dfeshiny@branch-name")</code></p>
<p>That will install the code from the named branch as dfeshiny in your app. You will need to restart your R session before it will start using the latest version that you’ve installed.</p>
</div>
<div class="section level2">
<h2 id="potential-errors-when-installing">Potential errors when installing<a class="anchor" aria-label="anchor" href="#potential-errors-when-installing"></a>
</h2>
<p>If you get <code>ERROR [curl: (22) The requested URL returned error: 401]</code>, and don’t know why, try running <code>Sys.unsetenv("GITHUB_PAT")</code> to temporarily clear your GitHub PAT variable.</p>
<p>Then try to install again.</p>
<p>If this works, then you will need to look for where that “GITHUB_PAT” variable is being set from and remove it to permanently fix the issue, contact us for support if you need help with this or have any other issues installing.</p>
</div>
<div class="section level2">
<h2 id="using-this-package-in-a-dfe-data-dashboard">Using this package in a DfE data dashboard<a class="anchor" aria-label="anchor" href="#using-this-package-in-a-dfe-data-dashboard"></a>
</h2>
<div class="section level3">
<h3 id="adding-analytics-to-your-dashboard">Adding analytics to your dashboard<a class="anchor" aria-label="anchor" href="#adding-analytics-to-your-dashboard"></a>
</h3>
<p>For analytics to function on your dashboard, you will need to:</p>
<ul>
<li>request a Google Analytics key from the <a href="mailto:explore.statistics@education.gov.uk">explore education statisics platforms team</a>
</li>
<li>create a HTML file with the javascript required for your dashboard to connect to Google Analytics</li>
<li>add the line: <code>tags$head(includeHTML(("google-analytics.html"))),</code> to the ui.R file.</li>
</ul>
<p>To create the latter, we provide the function <code><a href="reference/init_analytics.html">dfeshiny::init_analytics()</a></code>. You should run this code from the R console providing your Google Analytics code as follows (replacing <code>ABCDE12345</code> with the code obtained from the <a href="explore.statistics@education.gov.uk">explore education statistics platforms</a> team):</p>
<pre><code><span><span class="fu"><a href="reference/init_analytics.html">init_analytics</a></span><span class="op">(</span><span class="st">"ABCDE12345"</span><span class="op">)</span></span></code></pre>
<p>This will create the file <a href="google-analytics.html">google-analytics.html</a> within the home directory of your R project. This html file can be edited to add customised analytics recorders for different shiny elements in your dashboard. Feel free to contact our team if you need support in adding additional functionality.</p>
</div>
<div class="section level3">
<h3 id="adding-a-custom-disconnect-message-to-your-dashboard">Adding a custom disconnect message to your dashboard<a class="anchor" aria-label="anchor" href="#adding-a-custom-disconnect-message-to-your-dashboard"></a>
</h3>
<p>dfeshiny provides a function to add a custom disconnect message to your dashboard - this will appear when a dashboard would otherwise ‘grey-screen’ and will include options to refresh the page, go to overflow sites or visit the publication directly on Explore education statistics.</p>
<p>The following parameters should be defined and up-to-date in the global.R script:</p>
<ul>
<li>sites_list</li>
<li>ees_pub_name</li>
<li>ees_publication</li>
</ul>
<p>To include a custom disconnect message, you should insert the following line into the ui.R script:</p>
<pre><code>custom_disconnect_message(
   links = sites_list,
   publication_name = ees_pub_name,
   publication_link = ees_publication
 ),</code></pre>
<p>Putting this on the lines <em>just before</em> the <code>shinyGovstyle::header(...)</code> line should work well.</p>
</div>
</div>
<div class="section level2">
<h2 id="contributing">Contributing<a class="anchor" aria-label="anchor" href="#contributing"></a>
</h2>
<p>Ideas for dfeshiny should first be raised as a <a href="https://github.com/dfe-analytical-services/dfeshiny" class="external-link">GitHub issue</a> after which anyone is free to write the code and create a pull request for review.</p>
<p>For more details on contributing to dfeshiny, see our <a href="https://dfe-analytical-services.github.io/dfeshiny/CONTRIBUTING.html">contributing guidelines</a>.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing dfeshiny</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Rich Bielby <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-9070-9969" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Charlotte Foster <br><small class="roles"> Author </small>   </li>
<li>Cam Race <br><small class="roles"> Author </small>   </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/dfe-analytical-services/dfeshiny/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/dfe-analytical-services/dfeshiny/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/dfe-analytical-services/dfeshiny" class="external-link"><img src="https://codecov.io/gh/dfe-analytical-services/dfeshiny/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Rich Bielby, Charlotte Foster, Cam Race.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
